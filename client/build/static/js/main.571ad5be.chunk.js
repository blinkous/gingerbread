(this.webpackJsonpgingerbread=this.webpackJsonpgingerbread||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/gingerbread-cookies-0.8d97a91f.jpg"},function(e,t,n){e.exports=n.p+"static/media/gingerbread-cookies-1.cf1c52ba.jpg"},function(e,t,n){e.exports=n.p+"static/media/gingerbread-cookies-2.05688863.jpg"},function(e,t,n){e.exports=n.p+"static/media/gingerbread-cookies-3.4a15f623.jpg"},function(e,t,n){e.exports=n.p+"static/media/gingerbread-cookies-4.328bcb12.jpg"},function(e,t,n){e.exports=n.p+"static/media/gingerbread-cookies-5.98e7c12f.jpg"},,,function(e,t,n){e.exports=n(38)},,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),i=n.n(c),s=n(2),o=n.n(s),l=n(3),u=n(21),p=(n(12),n(29),function(e){return{type:"SET_ACTIVE_RECIPE",payload:{recipe:e}}}),m=n(1),d=Object(m.b)(null,{d_setSearch:function(e){return{type:"SET_SEARCH",payload:{search:e}}}})((function(e){var t=e.d_setSearch;return r.a.createElement("form",{className:"search-cont",onSubmit:function(e){e.preventDefault()}},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search for Recipes",onChange:function(e){var n=e.currentTarget.value;t(n)}}),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"search-svg search-btn"},r.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),r.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})))})),g=n(15),f=n.n(g),v=n(16),E=n.n(v),h=n(17),b=n.n(h),y=n(18),R=n.n(y),_=n(19),x=n.n(_),S=n(20),k=n.n(S),w=(n(13),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=new Date;"number"===typeof n?(a.setHours(a.getHours()+n),a=a.getTime()):a=null,localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))}),C=function(e){var t=JSON.parse(localStorage.getItem(e));if(t){var n=new Date;if(null===t.expiry||n.getTime()<=t.expiry)return t.value;localStorage.removeItem(e)}return null},N=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/recipes/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,console.log("Fetched query results and got:",a),!(a.length>0)){e.next=10;break}return e.abrupt("return",a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Unable to fetch recipes",e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/recipe-information/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,console.log("Fetched recipe info results and got: ",a),!a.hasOwnProperty("title")){e.next=10;break}return e.abrupt("return",a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Unable to fetch recipes",e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),O=Object(m.b)(null,{d_setActiveRecipe:p})((function(e){var t=e.title,n=e.image,a=e.id,c=e.d_setActiveRecipe,i=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a);case 2:(t=e.sent)&&t.hasOwnProperty("id")?(w("recipe_".concat(a),t),c(t)):c({});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"recipe-card",onClick:function(){var e=C("recipe_".concat(a));e?(console.log("Found recipe info in local storage"),c(e)):i(a)}},r.a.createElement("img",{className:"recipe-image",src:n,alt:t}),r.a.createElement("h5",{className:"recipe-title"},t))})),T=Object(m.b)((function(e){return{recipes:e.recipes}}))((function(e){var t=e.recipes,n=e.showStatic;return r.a.createElement("div",{className:"results"},n&&t.length>0&&r.a.createElement("p",{className:"no-results"},"No results were found, but here are some Gingerbread Cookies \u2665"),t.map((function(e,t){var n=e.image,a=e.title,c=e.id;return r.a.createElement(O,{title:a,image:n,key:t,id:c})})))})),A=(n(36),Object(m.b)((function(e){return{activeRecipe:e.activeRecipe}}),{d_setActiveRecipe:p})((function(e){var t=e.activeRecipe,n=t.title,a=t.image,c=t.extendedIngredients,i=e.d_setActiveRecipe,s=function(){i({})},o="https://spoonacular.com/cdn/ingredients_".concat("100x100","/");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-background",onClick:s}),r.a.createElement("div",{className:"recipe-details"},r.a.createElement("button",{className:"exit-btn",onClick:s},"\xd7"),r.a.createElement("h5",{className:"heading"},n),r.a.createElement("img",{className:"recipe-large-image",src:a,alt:n}),r.a.createElement("div",{className:"ingredients-container"},c.map((function(e,t){var n=e.name,a=e.image,c=e.measures.us;return r.a.createElement("div",{className:"ingredient",key:t},a?r.a.createElement("img",{src:"".concat(o).concat(a),alt:n,className:"ingredient-image"}):null,r.a.createElement("p",{className:"ingredient-info"},r.a.createElement("span",{className:"ingredient-amount"},c.amount)," ",r.a.createElement("span",{className:"ingredient-unit"},c.unitShort||"")," ",r.a.createElement("span",{className:"ingredient-name"},n)))})))))}))),I=function(){return[{title:"Gingerbread Cookies",image:f.a},{title:"Gingerbread Cookies",image:E.a},{title:"Gingerbread Cookies",image:b.a},{title:"Gingerbread Cookies",image:R.a},{title:"Gingerbread Cookies",image:x.a},{title:"Gingerbread Cookies",image:k.a}]},P=Object(m.b)((function(e){return{search:e.search,recipes:e.recipes,activeRecipe:e.activeRecipe}}),{d_populateRecipes:function(e){return{type:"POPULATE_RECIPE_RESULTS",payload:{recipes:e}}},d_addToRecipes:function(e){return{type:"ADD_RECIPE_RESULT",payload:{recipes:e}}},d_clearRecipes:function(){return{type:"CLEAR_RECIPE_RESULTS"}}})((function(e){var t=e.search,n=e.recipes,c=e.activeRecipe,i=e.d_populateRecipes,s=e.d_clearRecipes,p=Object(a.useState)(!1),m=Object(u.a)(p,2),g=m[0],f=m[1],v=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:n=e.sent,console.log("results are",n),n?(w(t,n),i(n),g&&f(!1)):(f(!0),E());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log("Active Recipe has changed to",c)}),[c]),Object(a.useEffect)((function(){h()}),[t]);var E=function(){var e=C("no_results");if(e)i(e);else{var t=I();console.log("Generated static data"),i(t),w("no_results",t)}},h=function(){if(t){var e=C(t);e?(console.log("Found query results in local storage"),i(e)):v(t)}else s()};return r.a.createElement("div",{id:"home",className:"section sect-1 ".concat(n.length>0?"show":"")},r.a.createElement("h1",{id:"main-title",className:"heading"},"Gingerbread"),r.a.createElement(d,null),n.length>0&&r.a.createElement(T,{showStatic:g}),c.title&&r.a.createElement(A,null))})),L=(n(37),n(4)),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH":return t.payload.search;default:return e}},G=n(22),D=[],F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPULATE_RECIPE_RESULTS":return t.payload.recipes;case"ADD_RECIPE_RESULT":return[].concat(Object(G.a)(e),[t.payload.recipes]);case"CLEAR_RECIPE_RESULTS":return D;default:return e}},H={},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_RECIPE":return t.payload.recipe;default:return e}},q=Object(L.b)({search:U,recipes:F,activeRecipe:J}),B=Object(L.c)(q);i.a.render(r.a.createElement(m.a,{store:B},r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null))),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.571ad5be.chunk.js.map